(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

/**
*   *   Main Theme Scripts  *
* 
*/

/**
 * *    iife to pass jquery and other args
 * @param {*} $ 
 * @param {*} window 
 * @param {*} document 
 */
(function ($, window, document) {
  /**
   *   Fire Immediately 
   */
  $(window).on('load resize scroll', function (e) {
    //  window scroll or load,
    //  i.e., fade in animations
    if (e.type == 'scroll' || e.type == 'load') {
      var elements = $('.anim__fade');

      for (var i = 0; i < elements.length; i++) {
        var element = elements[i];

        if ($(window).scrollTop() + $(window).height() > $(element).offset().top + 100) {
          $(element).removeClass('anim__fade-up anim__fade-in anim__fade-left anim__fade-right');
        }
      }

      if ($('header.header.fadein').length) {
        if ($(window).scrollTop() >= $('header.header').innerHeight()) {
          $('header.header').addClass('bg__fade-in');
        } else {
          $('header.header').removeClass('bg__fade-in');
        }
      }
    } // window resize


    if (e.type == 'resize') {
      if ($('header .container.mobilenav-opened').length) {
        $('header .container.mobilenav-opened').removeClass('mobilenav-opened');
      }
    } // handle 


    if (e.type == 'scroll') {}
  });
  /**
   *   jQuery Document Ready
   */

  $(function () {
    // remove the no-js class from <html>
    $('html').removeClass('no-js'); // offset <main> by <header> height
    // if( $('body:not(.header-fadein)').length ){
    //     $('body:not(.header-fadein) main').css('margin-top', $('header').innerHeight());
    // }
    // mobile nav

    if ($('header .navicons').length) {
      $('header').on('click', '.navicons', function (e) {
        $(this).parents('.container').toggleClass('mobilenav-opened');
      });
      $('header').on('click', '.navlinks', function (e) {
        // check the mobile nav is open
        if ($('header .container.mobilenav-opened').length && $('header .navlinks').css('position') == 'fixed') {
          if (!$(e.target).closest('.navlinks > ul').length) {
            $('header .container').removeClass('mobilenav-opened');
          }
        }
      });
    }
    /**
     * Client Spotlight Banner (Home Page)
     */


    if ($('.client_spotlight-banner').length) {
      $('.client_spotlight-banner').slick({
        autoplay: true,
        autoplaySpeed: 4000,
        slidesToShow: 5,
        centerMode: true,
        centerPadding: 0,
        rows: 0,
        // * this is super important!!! * without this there are BUGS ***
        arrows: false,
        responsive: [{
          breakpoint: 1280,
          settings: {
            slidesToShow: 3
          }
        }, {
          breakpoint: 960,
          settings: {
            slidesToShow: 2
          }
        }, {
          breakpoint: 640,
          settings: {
            slidesToShow: 1
          }
        }]
      });
    } // if there are clients on the page


    if ($('.block__content_grid ul.clients').length) {
      $('.page-clients .block__content_grid .filters').on('click', 'a', function (e) {
        $(this).siblings().removeClass('active');
        $(this).addClass('active');
        var filterClass = $(this).attr('data-term');
        var isReset = $(this).attr('data-term') == 'all';

        if (isReset) {
          window.location.hash = '';
        }

        $('.block__content_grid ul.clients').slick('slickUnfilter');
        $('.block__content_grid ul.clients').slick('slickFilter', function (i, e) {
          return !isReset ? $(this).hasClass(filterClass) : 'slick-slide';
        });
      });
      $('.block__content_grid ul.clients').slick({
        slidesToShow: 3,
        arrows: false,
        centerMode: true,
        centerPadding: 0,
        // autoplay: true,
        autoplaySpeed: 4000,
        responsive: [{
          breakpoint: 1280,
          settings: {
            slidesToShow: 2
          }
        }, {
          breakpoint: 960,
          settings: {
            slidesToShow: 1,
            centerMode: false
          }
        }]
      });

      if (window.location.hash) {
        setTimeout(function () {
          $('.page-clients .block__content_grid .filters > a').removeClass('active');
          $('.page-clients .block__content_grid .filters > a[data-term="' + window.location.href.split('#')[1] + '"]').addClass('active');
          $('.block__content_grid ul.clients').slick('slickUnfilter');
          $('.block__content_grid ul.clients').slick('slickFilter', function (i, e) {
            if ($(this).hasClass(window.location.href.split('#')[1])) {
              return true;
            }
          });
          $('.block__content_grid ul.clients').slick('refresh');
        }, 250);
      }
    } // if there are bio popups on the page


    if ($('.js__popup_bio').length) {
      // open the bio popup on click
      $('.js__popup_bio').magnificPopup({
        type: "ajax",
        closeMarkup: '<button title="Close lightbox (Esc)" aria-label="Close lightbox (Esc)" type="button" class="mfp-close">&#215;</button>',
        closeOnContentClick: false,
        closeOnBgClick: true,
        mainClass: 'bio'
      });
    }
  });
} // 
)(window.jQuery, window, document);

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJfX3ByZS9fanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7O0FBS0E7Ozs7OztBQU9JLFdBQVUsQ0FBVixFQUFhLE1BQWIsRUFBcUIsUUFBckIsRUFBOEI7QUFFMUI7OztBQUdBLEVBQUEsQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVLEVBQVYsQ0FBYSxvQkFBYixFQUFtQyxVQUFVLENBQVYsRUFBYTtBQUc1QztBQUNBO0FBQ0EsUUFBSSxDQUFDLENBQUMsSUFBRixJQUFVLFFBQVYsSUFBc0IsQ0FBQyxDQUFDLElBQUYsSUFBVSxNQUFwQyxFQUE0QztBQUN4QyxVQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsYUFBRCxDQUFoQjs7QUFDQSxXQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUE3QixFQUFxQyxDQUFDLEVBQXRDLEVBQTBDO0FBQ3RDLFlBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFELENBQXhCOztBQUNBLFlBQUksQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVLFNBQVYsS0FBd0IsQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVLE1BQVYsRUFBeEIsR0FBOEMsQ0FBQyxDQUFDLE9BQUQsQ0FBRCxDQUFXLE1BQVgsR0FBb0IsR0FBcEIsR0FBMEIsR0FBNUUsRUFBa0Y7QUFDOUUsVUFBQSxDQUFDLENBQUMsT0FBRCxDQUFELENBQVcsV0FBWCxDQUF1Qiw4REFBdkI7QUFDSDtBQUNKOztBQUVELFVBQUksQ0FBQyxDQUFDLHNCQUFELENBQUQsQ0FBMEIsTUFBOUIsRUFBc0M7QUFDbEMsWUFBSSxDQUFDLENBQUMsTUFBRCxDQUFELENBQVUsU0FBVixNQUF5QixDQUFDLENBQUMsZUFBRCxDQUFELENBQW1CLFdBQW5CLEVBQTdCLEVBQStEO0FBQzNELFVBQUEsQ0FBQyxDQUFDLGVBQUQsQ0FBRCxDQUFt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RUFBRSxNQUR3QjtBQUU5QixRQUFBLFdBQVcsRUFBRSx3SEFGaUI7QUFHOUIsUUFBQSxtQkFBbUIsRUFBRSxLQUhTO0FBSTlCLFFBQUEsY0FBYyxFQUFFLElBSmM7QUFLOUIsUUFBQSxTQUFTLEVBQUU7QUFMbUIsT0FBbEM7QUFPSDtBQUlKLEdBOUlBLENBQUQ7QUFnSkgsQ0EzTEQsQ0E0TEE7QUE1TEEsRUE2TEMsTUFBTSxDQUFDLE1BN0xSLEVBNkxnQixNQTdMaEIsRUE2THdCLFFBN0x4QixDQURKIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqXHJcbiogICAqICAgTWFpbiBUaGVtZSBTY3JpcHRzICAqXHJcbiogXHJcbiovXHJcblxyXG4vKipcclxuICogKiAgICBpaWZlIHRvIHBhc3MganF1ZXJ5IGFuZCBvdGhlciBhcmdzXHJcbiAqIEBwYXJhbSB7Kn0gJCBcclxuICogQHBhcmFtIHsqfSB3aW5kb3cgXHJcbiAqIEBwYXJhbSB7Kn0gZG9jdW1lbnQgXHJcbiAqL1xyXG4oXHJcbiAgICBmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCl7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICAgRmlyZSBJbW1lZGlhdGVseSBcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKHdpbmRvdykub24oJ2xvYWQgcmVzaXplIHNjcm9sbCcsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gIHdpbmRvdyBzY3JvbGwgb3IgbG9hZCxcclxuICAgICAgICAgICAgLy8gIGkuZS4sIGZhZGUgaW4gYW5pbWF0aW9uc1xyXG4gICAgICAgICAgICBpZiAoZS50eXBlID09ICdzY3JvbGwnIHx8IGUudHlwZSA9PSAnbG9hZCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50cyA9ICQoJy5hbmltX19mYWRlJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgPiAoJChlbGVtZW50KS5vZmZzZXQoKS50b3AgKyAxMDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2FuaW1fX2ZhZGUtdXAgYW5pbV9fZmFkZS1pbiBhbmltX19mYWRlLWxlZnQgYW5pbV9fZmFkZS1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnaGVhZGVyLmhlYWRlci5mYWRlaW4nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49ICQoJ2hlYWRlci5oZWFkZXInKS5pbm5lckhlaWdodCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlci5oZWFkZXInKS5hZGRDbGFzcygnYmdfX2ZhZGUtaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdoZWFkZXIuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ2JnX19mYWRlLWluJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gd2luZG93IHJlc2l6ZVxyXG4gICAgICAgICAgICBpZiAoZS50eXBlID09ICdyZXNpemUnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnaGVhZGVyIC5jb250YWluZXIubW9iaWxlbmF2LW9wZW5lZCcpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlciAuY29udGFpbmVyLm1vYmlsZW5hdi1vcGVuZWQnKS5yZW1vdmVDbGFzcygnbW9iaWxlbmF2LW9wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBcclxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PSAnc2Nyb2xsJykge31cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICAgalF1ZXJ5IERvY3VtZW50IFJlYWR5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG5vLWpzIGNsYXNzIGZyb20gPGh0bWw+XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbm8tanMnKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gb2Zmc2V0IDxtYWluPiBieSA8aGVhZGVyPiBoZWlnaHRcclxuICAgICAgICAgICAgLy8gaWYoICQoJ2JvZHk6bm90KC5oZWFkZXItZmFkZWluKScpLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAvLyAgICAgJCgnYm9keTpub3QoLmhlYWRlci1mYWRlaW4pIG1haW4nKS5jc3MoJ21hcmdpbi10b3AnLCAkKCdoZWFkZXInKS5pbm5lckhlaWdodCgpKTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBtb2JpbGUgbmF2XHJcbiAgICAgICAgICAgIGlmICgkKCdoZWFkZXIgLm5hdmljb25zJykubGVuZ3RoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICQoJ2hlYWRlcicpLm9uKCdjbGljaycsICcubmF2aWNvbnMnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmNvbnRhaW5lcicpLnRvZ2dsZUNsYXNzKCdtb2JpbGVuYXYtb3BlbmVkJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkKCdoZWFkZXInKS5vbignY2xpY2snLCAnLm5hdmxpbmtzJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgbW9iaWxlIG5hdiBpcyBvcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJ2hlYWRlciAuY29udGFpbmVyLm1vYmlsZW5hdi1vcGVuZWQnKS5sZW5ndGggJiYgJCgnaGVhZGVyIC5uYXZsaW5rcycpLmNzcygncG9zaXRpb24nKSA9PSAnZml4ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCgnLm5hdmxpbmtzID4gdWwnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlciAuY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ21vYmlsZW5hdi1vcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDbGllbnQgU3BvdGxpZ2h0IEJhbm5lciAoSG9tZSBQYWdlKVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKCQoJy5jbGllbnRfc3BvdGxpZ2h0LWJhbm5lcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmNsaWVudF9zcG90bGlnaHQtYmFubmVyJykuc2xpY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDQwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICByb3dzOiAwLCAvLyAqIHRoaXMgaXMgc3VwZXIgaW1wb3J0YW50ISEhICogd2l0aG91dCB0aGlzIHRoZXJlIGFyZSBCVUdTICoqKlxyXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTI4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTYwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA2NDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgY2xpZW50cyBvbiB0aGUgcGFnZVxyXG4gICAgICAgICAgICBpZiAoJCgnLmJsb2NrX19jb250ZW50X2dyaWQgdWwuY2xpZW50cycpLmxlbmd0aCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkKCcucGFnZS1jbGllbnRzIC5ibG9ja19fY29udGVudF9ncmlkIC5maWx0ZXJzJykub24oJ2NsaWNrJywgJ2EnLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ2xhc3MgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdGVybScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNSZXNldCA9ICgkKHRoaXMpLmF0dHIoJ2RhdGEtdGVybScpID09ICdhbGwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ibG9ja19fY29udGVudF9ncmlkIHVsLmNsaWVudHMnKS5zbGljaygnc2xpY2tVbmZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ibG9ja19fY29udGVudF9ncmlkIHVsLmNsaWVudHMnKS5zbGljaygnc2xpY2tGaWx0ZXInLCBmdW5jdGlvbiAoaSwgZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzUmVzZXQgPyAkKHRoaXMpLmhhc0NsYXNzKGZpbHRlckNsYXNzKSA6ICdzbGljay1zbGlkZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmJsb2NrX19jb250ZW50X2dyaWQgdWwuY2xpZW50cycpLnNsaWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogNDAwMCxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjgwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA5NjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wYWdlLWNsaWVudHMgLmJsb2NrX19jb250ZW50X2dyaWQgLmZpbHRlcnMgPiBhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGFnZS1jbGllbnRzIC5ibG9ja19fY29udGVudF9ncmlkIC5maWx0ZXJzID4gYVtkYXRhLXRlcm09XCInICsgd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVsxXSArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ibG9ja19fY29udGVudF9ncmlkIHVsLmNsaWVudHMnKS5zbGljaygnc2xpY2tVbmZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYmxvY2tfX2NvbnRlbnRfZ3JpZCB1bC5jbGllbnRzJykuc2xpY2soJ3NsaWNrRmlsdGVyJywgZnVuY3Rpb24gKGksIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYmxvY2tfX2NvbnRlbnRfZ3JpZCB1bC5jbGllbnRzJykuc2xpY2soJ3JlZnJlc2gnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyNTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGJpbyBwb3B1cHMgb24gdGhlIHBhZ2VcclxuICAgICAgICAgICAgaWYgKCQoJy5qc19fcG9wdXBfYmlvJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvcGVuIHRoZSBiaW8gcG9wdXAgb24gY2xpY2tcclxuICAgICAgICAgICAgICAgICQoJy5qc19fcG9wdXBfYmlvJykubWFnbmlmaWNQb3B1cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhamF4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNYXJrdXA6ICc8YnV0dG9uIHRpdGxlPVwiQ2xvc2UgbGlnaHRib3ggKEVzYylcIiBhcmlhLWxhYmVsPVwiQ2xvc2UgbGlnaHRib3ggKEVzYylcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJtZnAtY2xvc2VcIj4mIzIxNTs8L2J1dHRvbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlT25Db250ZW50Q2xpY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlT25CZ0NsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1haW5DbGFzczogJ2JpbydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgLy8gXHJcbiAgICAod2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudClcclxuKTsiXX0=
